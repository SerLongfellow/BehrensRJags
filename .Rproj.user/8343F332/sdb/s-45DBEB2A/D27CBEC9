{
    "contents" : "\n#' Run Behren's Model\n#'\n#' Runs Behren's model through R2jags and plots means through time.\n#' @param modelFile The path to the text file containing the model\n#' @param dataFile The path to the csv file containing the data\n#' @param n.chains The amount of Markov chains to run\n#' @param n.samples The amount of samples to take. More samples = more convergence\n#' @param n.burnin The amount of burnin samples to discard\n#' @keywords behren model\n#' @export\n\nrunModel <- function(modelFile, dataFile, n.chains, n.samples, n.burnin) {\n\n  #modelFile <- 'C:/Users/Jeff/Documents/SUPER_2014/JAGS/BehrensModel/model-fixed-volatility.txt'\n  #dataFile <- 'C:/Users/Jeff/Documents/SUPER_2014/JAGS/BehrensModel/Data/subj_006_social.csv'\n  \n  set.seed(1234)\n  \n  dataCSV <- read.csv(dataFile, header=FALSE)\n  \n  dataMat <- as.matrix(dataCSV)\n  dataMat[,3] <- replace(dataMat[,3], dataMat[,3] == 2, 0)\n  model.data <- list(a = dataMat[,3], e = dataMat[,4], N = 100)\n  \n  monitors <- c('r','v','beta.e','beta.a','k')\n  \n  model.fit <- jags(model.file = modelFile, data = model.data, parameters.to.save = monitors, n.chains = 1, n.iter = n.samples, n.burnin = n.burnin)\n  \n  #This was giving errors and aborting the function, so the samples are just specified now\n  #model.fit <- autojags(model.fit)\n  \n  r.results <- jagsresults(x = model.fit, params = c('r'))\n  r.mean <- r.results[,c('mean')]\n  \n  v.results <- jagsresults(x = model.fit, params = c('v'))\n  v.mean <- v.results[,c('mean')]\n  \n  dev.new()\n  \n  par(mfrow = c(2,1))\n  \n  plot(x = r.mean, type = 'l', main = \"Expectation through time\", xlab = \"time\", ylab = \"expectation (r)\")\n  \n  plot(x = v.mean, type = 'l', main = \"Belief of volatility through time\", xlab = \"time\", ylab = \"volatility (v)\")\n}",
    "created" : 1405379644290.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3806166357",
    "id" : "D27CBEC9",
    "lastKnownWriteTime" : 1405381443,
    "path" : "~/SUPER_2014/R/BehrensRJags/R/BehrensRJags.R",
    "project_path" : "R/BehrensRJags.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}